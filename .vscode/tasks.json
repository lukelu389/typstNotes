{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Typst: watch current .typ (auto-open PDF)",
      "type": "shell",
      "command": "W=${workspaceFolder}; F=${file}; [[ \"$F\" == *.typ ]] || { echo 'Open a .typ file first.'; exit 2; }; OUTDIR=\"$W/pdf/${relativeFileDirname}\"; mkdir -p \"$OUTDIR\"; OUT=\"$OUTDIR/${fileBasenameNoExtension}.pdf\"; typst watch --root \"$W\" \"$F\" \"$OUT\" --open",
      "isBackground": true,
      "problemMatcher": [],
      "group": {
        "kind": "build",
        "isDefault": true
      }
    },
    {
      "label": "Typst: compile current .typ to pdf",
      "type": "shell",
      "command": "W=${workspaceFolder}; F=${file}; [[ \"$F\" == *.typ ]] || { echo 'Open a .typ file first.'; exit 2; }; OUTDIR=\"$W/pdf/${relativeFileDirname}\"; mkdir -p \"$OUTDIR\"; OUT=\"$OUTDIR/${fileBasenameNoExtension}.pdf\"; typst compile --root \"$W\" \"$F\" \"$OUT\" && echo \"Built â†’ $OUT\""
    }
  ]
}